(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"/LGP":function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"14+a":function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"1BJ4":function(module,exports,e){},"1KRk":function(module,exports,e){e("wK9Z")},"4Q+c":function(module,exports,e){},"60Ah":function(module,exports,e){e("M8bm")},"6oCb":function(module,exports,e){var t=e("IrXu"),n=t.default?t.default:{},r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},"7ESi":function(module,exports,e){e("k142")},"8MTW":function(module,exports,e){e("quDH")},"9Jxx":function(module,exports,e){},BYMk:function(module,exports,e){var t=e("oRHR"),n=t.default?t.default:{},r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},CtFz:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},EBKd:function(module,e,t){"use strict";var n={Loading:{id:0,message:""},Idle:{id:1,message:""},InProgress:{id:2,message:"Saving..."},Success:{id:3,message:""},Error:{id:4,message:"Error occurred while saving your changes."},Conflict:{id:5,message:""},PublishInProgress:{id:6,message:""},Published:{id:7,message:"Changes are published."},NoChanges:{id:8,message:""},RevertInProgress:{id:9,message:""},Reverted:{id:10,message:""},PublishError:{id:11,message:"Error occurred."},PublishSlugError:{id:12,message:"Error occurred. The title must include at least one alphanumeric character"},RevertError:{id:13,message:"Error occurred."},LoadError:{id:14,message:"Error occurred while loading."},SaveSuccess:{id:14,message:"Changes are saved."},PublishInvalid:{id:16,message:"Please fix authoring errors.",isTransient:!0}},getErrorIsSlugifiableError=function(e){return!(null==e||!e.includes("is not slugifiable"))};function getActionsForStateType(e){var t="course"===e?"SET_COURSE_STATE":"SET_ITEM_STATE";return{setLoading:function(e){e.dispatch(t,{state:n.Loading})},setIdle:function(e){e.dispatch(t,{state:n.Idle})},setInProgress:function(e){e.dispatch(t,{state:n.InProgress})},setSuccess:function(e){e.dispatch(t,{state:n.Success})},setSaveSuccess:function(e){e.dispatch(t,{state:n.SaveSuccess})},setError:function(e,r){var o=Object.assign({},n.Error);null!=r&&r.errorMessage&&(o.message=null==r?void 0:r.errorMessage),void 0!==(r||{}).continueEdit&&(o.continueEdit=(r||{}).continueEdit),e.dispatch(t,{state:o})},setConflict:function(e,r){var o=Object.assign({},n.Conflict);null!=r&&r.conflictMessage&&(o.message=null==r?void 0:r.conflictMessage),e.dispatch(t,{state:o})},setPublishInProgress:function(e){e.dispatch(t,{state:n.PublishInProgress})},setPublished:function(e,r){var o=Object.assign({},n.Published);null!=r&&r.successMessage&&(o.message=null==r?void 0:r.successMessage),e.dispatch(t,{state:o})},setNoChanges:function(e){e.dispatch(t,{state:n.NoChanges})},setRevertInProgress:function(e){e.dispatch(t,{state:n.RevertInProgress})},setReverted:function(e){e.dispatch(t,{state:n.Reverted})},setPublishError:function(e,r){var o=(r||{}).error,s=n.PublishError;o&&(o.responseJSON.details.find((function(e){return getErrorIsSlugifiableError(e.error)}))&&(s=n.PublishSlugError));e.dispatch(t,{state:s})},setRevertError:function(e){e.dispatch(t,{state:n.RevertError})},setLoadError:function(e){e.dispatch(t,{state:n.LoadError})},toggleBreakingChangesModal:function(e,t){e.dispatch("TOGGLE_BREAKING_CHANGES_MODAL",{showModal:t})}}}t.d(e,"a",(function(){return getActionsForStateType}))},Edz0:function(module,exports,e){},IrXu:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"J+6g":function(module,e,t){"use strict";t.r(e);var n=t("VbXa"),r=t.n(n),o=t("3tO9"),s=t.n(o),i=t("VkAN"),a=t.n(i),c=t("q1tI"),u=t.n(c),l=t("UYTu"),d=t("JELi"),p=t.n(d),h=t("MnCE"),m=t("8cuT"),f=t("17x9"),g=t.n(f),E=t("jGbM");var lib_connectToFluxibleContext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!1};return function(n){var o=n.displayName||n.name,s=function(s){function FluxibleContextConnector(t,n){var r;return(r=s.call(this,t,n)||this).displayName=o+"FluxibleContextConnector",e(n,t),r}r()(FluxibleContextConnector,s);var i=FluxibleContextConnector.prototype;return i.componentDidUpdate=function(n){t(n,this.props)&&e(this.context,this.props)},i.render=function(){return u.a.createElement(n,this.props)},FluxibleContextConnector}(u.a.Component);return s.contextTypes={executeAction:g.a.func,getStore:g.a.func},Object(E.a)(s,n),s}},S=t("+LJP"),v=t("L1vm"),C=t("sQ/U"),b=t("EdUP"),A=t("xJyF"),O=t("cDf5"),I=t.n(O);function waitForProps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(b.a)((function(t){return e instanceof Array?e.every((function(e){return!!t[e]})):"object"===I()(e)?Object.keys(e).every((function(n){return t[n]!==e[n]})):void 0}),t)}var R=t("pVnL"),y=t.n(R),components_withFluxibleContextAsProps=function(){return function(e){var t;return(t=function(t){function Wrapper(){return t.apply(this,arguments)||this}return r()(Wrapper,t),Wrapper.prototype.render=function(){var t=this.context.executeAction;return(c.createElement(e,y()({},this.props,{executeAction:t})))},Wrapper}(c.Component)).displayName="withFluxibleContextAsProps(".concat(e.displayName||e.name||"Component",")"),t.contextTypes={executeAction:g.a.func},t}},N=t("W8MJ"),P=t.n(N),models_Partner=function(e){var t=e.id,n=e.name,r=e.shortName,o=e.squareLogo,s=e.rectangularLogo;this.id=t,this.name=n,this.shortName=r,this.squareLogo=o,this.rectangularLogo=s},w=function(){function AuthoringCourse(e){var t=e.description,n=void 0===t?"":t,r=e.domainTypes,o=void 0===r?[]:r,s=e.faqs,i=void 0===s?[]:s,a=e.hardwareRequirement,c=void 0===a?"":a,u=e.headerImage,l=void 0===u?"":u,d=e.id,p=void 0===d?"":d,h=e.instructorIds,m=void 0===h?[]:h,f=e.isPrivate,g=void 0!==f&&f,E=e.isReal,S=void 0!==E&&E,v=e.assetLibraryAccessibilitySettings,C=void 0===v?void 0:v,b=e.isRestrictedMembership,A=void 0!==b&&b,O=e.isLimitedToEnterprise,I=void 0!==O&&O,R=e.isSubtitleTranslationEnabled,y=void 0!==R&&R,N=e.isVerificationEnabled,P=void 0!==N&&N,w=e.learningObjectives,U=void 0===w?[]:w,x=e.launchedAt,T=void 0===x?void 0:x,D=e.name,j=void 0===D?"":D,M=e.overridePartnerLogos,L=void 0===M?{}:M,G=e.partners,B=void 0===G?[]:G,k=e.partnerIds,V=void 0===k?[]:k,W=e.premiumExperiences,F=void 0===W?[]:W,H=e.previewUserIds,q=void 0===H?[]:H,z=e.primaryLanguageCodes,Q=void 0===z?[]:z,J=e.promoPhoto,K=e.s3Prefix,Y=void 0===K?"":K,X=e.sessionSchedule,Z=void 0===X?{}:X,ee=e.sessionsEnabledAt,te=void 0===ee?void 0:ee,ne=e.slug,re=void 0===ne?"":ne,oe=e.subtitleLanguageCodes,se=void 0===oe?[]:oe,ie=e.verificationEnabledAt,ae=void 0===ie?void 0:ie;this.description=n,this.domainTypes=o,this.faqs=i,this.hardwareRequirement=c,this.headerImage=l,this.id=p,this.isPrivate=g,this.isReal=S,this.assetLibraryAccessibilitySettings=C,this.isRestrictedMembership=A,this.isLimitedToEnterprise=I,this.isSubtitleTranslationEnabled=y,this.isVerificationEnabled=P,this.launchedAt=T,this.learningObjectives=U,this.name=j,this.overridePartnerLogos=L,this.partners=B&&B.map((function(e){return new models_Partner(e)})),this.partnerIds=V,this.instructorIds=m,this.premiumExperiences=F,this.previewUserIds=q,this.primaryLanguageCodes=Q,this.promoPhoto=J,this.s3Prefix=Y,this.sessionSchedule=Z,this.sessionsEnabledAt=te,this.slug=re,this.subtitleLanguageCodes=se,this.verificationEnabledAt=ae}return AuthoringCourse.prototype.get=function(e){return this[e]},P()(AuthoringCourse,[{key:"universities",get:function(){return this.partners}},{key:"isLaunched",get:function(){return!!this.launchedAt&&this.launchedAt<=Date.now()}}]),AuthoringCourse}(),U=t("dMi0"),x=t.n(U),T=t("FyPc"),D=t.n(T),j=t("++Ya"),M={storeNames:{BRANCHES_STORE:"BranchesStore",SESSIONS_STORE:"SessionsStore",COURSE_MATERIAL_STORE:"CourseMaterialStore"},branchStatus:{LIVE:"live",ARCHIVED:"archived",PENDING:"pending",NEW:"new",UPCOMING:"upcoming",CREATING:"creating"},ALL_BRANCHES:"ALL_BRANCHES"},L=M.branchStatus,G=M.ALL_BRANCHES,B=t("tIJq"),k=function(e){return e.PUBLIC="PUBLIC",e.ENTERPRISE="ENTERPRISE",e.PRIVATE="PRIVATE",e}({}),V=t("jQVW"),W=t("fw5G"),F=t.n(W),H=t("S+eF"),q=t.n(H),z=t("v6sC"),Q=t("J2m7"),J=t.n(Q),K=t("wd/R"),Y=t.n(K),getSortedSessions=function(e){return Object.keys(e.associatedSessions).map((function(t){return Object.assign({},e.associatedSessions[t],{id:t})})).sort((function(e,t){return e.startedAt-t.startedAt}))},getDefaultEnrollableSessionId=function(e,t){if(!e.associatedSessions)return null;var n=function(e){if(!e.associatedSessions)return null;var t=Date.now();return Object.keys(e.associatedSessions).reduce((function(n,r){var o=e.associatedSessions[r];return!o.isPreview&&t>o.startedAt&&t<o.endedAt&&n.push(s()(s()({},o),{},{id:r,startedAt:Y.a.utc(o.startedAt),endedAt:Y.a.utc(o.endedAt),enrollmentEndedAt:Y.a.utc(o.enrollmentEndedAt)})),n}),[]).sort((function(e,t){return e.startedAt-t.startedAt}))}(e);if(n&&n.length>0&&!t)return n[0].id;var r=getSortedSessions(e);if(r&&r[0]&&!t)return r[0].id;if(t){var o,i,a,c,u=null==n?void 0:n.find((function(e){return!e.isPrivate}));if(u)return u.id;var l=null==r?void 0:r.find((function(e){return!e.isPrivate}));return l?l.id:null!==(o=null!==(i=null==n?void 0:null===(a=n[0])||void 0===a?void 0:a.id)&&void 0!==i?i:null==r?void 0:null===(c=r[0])||void 0===c?void 0:c.id)&&void 0!==o?o:null}return null},BranchUtils_pushBranchIdToUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.location,o=t.push,i=r.query;delete i.sessionId,delete i.groupId,delete i.agVersionId;var a=n?s()(s()({},i),{},{versionId:e,agVersionId:e}):s()(s()({},i),{},{versionId:e}),c=s()(s()({},r),{},{query:a});o(c)},X=Object(z.a)("/api/viewAsLearnerInCourse.v1",{type:"rest"}),ChangeViewSettingActions_changeUserEnrollment=function(e,t){var n=t.courseId,r=t.sessionId,o=t.groupId,s=t.userCanSwitchGroups,i=t.selectDefaultSessionForBranch,a=t.findPublicSessionsIfPossible,c=t.newWindow,u=t.onCompleteChangeUserEnrollment,l=void 0===u?function(){}:u,d=t.branch,p=t.skipReloadWindow,h=void 0!==p&&p,m={userId:C.a.get().id,courseId:n,sessionId:i&&d?getDefaultEnrollableSessionId(d,a):r,groupIds:s&&o?[o]:[]};q()(X.post((new F.a).addQueryParam("action","start").toString(),{data:m})).then((function(){h?l():((c||window).location.reload(),l())})).done()};function getRelativeUrl(e,t){return"/learn/".concat(e,"/").concat(t)}var Z,ee,te,ne=t("wC8J"),re=t("z3lc"),oe=t.n(re),se="private",ie="public",ae="org",pills_ContextIndicator=function(e){var t=e.type,n=e.style,r=e.customLabel,o={public:{label:oe()("Public"),color:"highlight2"},private:{label:oe()("Private"),color:"highlight2"},org:{label:oe()("Your Org"),color:"highlight2"}}[t],s=o.label,i=o.color;return c.createElement(ne.a,{priority:"secondary",variant:"category",color:i,style:n},r||s)},ce=t("2aIb"),ue=t.n(ce),contextUtils_openNewWindowWithCourseSlug=function(e){return window.open(getRelativeUrl(e,"home/welcome"),"_blank")},contextUtils_viewContextAsLearner=function(e,t){var n=t.courseContext,r=t.branch,o=t.courseSlug,i=t.courseId,a=t.skipReloadWindow,c=void 0!==a&&a,u=t.useSameWindow,l=void 0!==u&&u,d=t.userCanSwitchGroups,p=void 0===d||d,h=t.specifiedGroupId,m=t.onCompleteChangeUserEnrollment,f=void 0===m?function(){}:m,g=n.typeName===V.a.PUBLIC_BRANCH,E={courseId:i,selectDefaultSessionForBranch:!0,branch:r,skipReloadWindow:c,userCanSwitchGroups:p,findPublicSessionsIfPossible:g};if(c?E.onCompleteChangeUserEnrollment=function(){f(),l||contextUtils_openNewWindowWithCourseSlug(o)}:E.newWindow=l?null:contextUtils_openNewWindowWithCourseSlug(o),n.typeName===V.a.SESSION_GROUP)E=s()(s()({},E),{},{sessionId:n.definition.sessionId,groupId:n.definition.groupId,selectDefaultSessionForBranch:!1});else if(g&&(r.branchStatus===L.NEW||r.branchStatus===L.UPCOMING)){var S=x()(r.associatedSessions,(function(e){return e.isPreview}))||null;E=s()(s()({},E),{},{selectDefaultSessionForBranch:!S,sessionId:S})}h&&(E.groupId=h),e.executeAction(ChangeViewSettingActions_changeUserEnrollment,E)},getContextByContextId=function(e,t){return e.find((function(e){var n=e.definition;return t.startsWith("group~")?n.groupId===t.split("group~")[1]:n.authoringCourseBranchId===t}))},contextUtils_isPrivateContext=function(e){return e!==V.a.PUBLIC_BRANCH},contextUtils_getContextType=function(e,t){return contextUtils_isPrivateContext(e)?se:t===k.ENTERPRISE?ae:ie},contextUtils_getContextIdFromContext=function(e){var t;switch(e.typeName){case V.a.SESSION_GROUP:t=e.definition.groupId;break;case V.a.PUBLIC_BRANCH:case V.a.PRIVATE_BRANCH:t=e.definition.authoringCourseBranchId;break;case V.a.SESSION_GROUP_CREATION_JOB:default:t=e.definition.creationId}return t},getContextByEscapedContextId=function(e,t){return t.find((function(t){return contextUtils_getContextIdFromContext(t)===e}))},contextUtils_getIdForContextSwitcher=function(e){var t=e.typeName===V.a.SESSION_GROUP?e.definition.groupId:null,n=e.definition.authoringCourseBranchId;return t?"group~".concat(t):n},le=t("tEn/"),de={isLaunched:function(e){return!!e.launchedAt&&e.launchedAt<=Date.now()},isPreEnrollmentEnabled:function(e){return!this.isLaunched(e)&&"preEnrollmentEnabledAt"in e},isSessionsModeEnabled:function(e){return void 0!==e.sessionsEnabledAt&&e.sessionsEnabledAt<=Date.now()},isVerificationEnabled:function(e){return!!e.verificationEnabledAt&&e.verificationEnabledAt<=Date.now()},isPrivate:function(e){return function(e){return!!e.isRestrictedMembership&&!e.isLimitedToEnterprise}(e)},isFullC4CPartner:function(e){var t=e.isC4CPartner,n=e.isPrivateAuthoringPartner;return t&&!n},getCourseCatalogType:function(e){var t=k.PUBLIC;return de.isPrivate(e)?t=k.PRIVATE:e.isLimitedToEnterprise&&(t=k.ENTERPRISE),t},isProject:function(e){return[le.a.PROJECT,le.a.RHYME_PROJECT].includes(e)},isPrivatelyAuthoredCourse:function(e,t){return de.getCourseCatalogType(e)===k.ENTERPRISE&&t.typeName===le.a.STANDARD_COURSE&&e.isLimitedToEnterprise&&e.isRestrictedMembership}},pe=(de.isLaunched,de.isPreEnrollmentEnabled,de.isSessionsModeEnabled,de.isVerificationEnabled,de.isPrivate,de.isFullC4CPartner,de.getCourseCatalogType),he=(de.isProject,de.isPrivatelyAuthoredCourse,t("PStO")),me=t("U+yc"),fe=t.n(me),ge=t("HlCP"),Ee=t("aGUn"),Se=(Z=Object(Ee.b)("properties"),(te=function(e){function AuthoringBranchProperties(){return e.apply(this,arguments)||this}return r()(AuthoringBranchProperties,e),AuthoringBranchProperties.byCourse=function(e){return this.finder("course",{params:{courseId:e},fields:["properties"]})},P()(AuthoringBranchProperties,[{key:"associatedSessions",get:function(){return this.properties&&this.properties.associatedSessions}}]),AuthoringBranchProperties}(ge.a)).RESOURCE_NAME="authoringBranchProperties.v1",ee=te,fe()(ee.prototype,"associatedSessions",[Z],Object.getOwnPropertyDescriptor(ee.prototype,"associatedSessions"),ee.prototype),ee),ve=function(e){function GroupMemberships(){return e.apply(this,arguments)||this}return r()(GroupMemberships,e),GroupMemberships.byUserAndCourse=function(e,t,n){return this.finder("userAndCourse",s()({params:{userId:e,courseId:t}},n))},GroupMemberships}(ge.a);ve.RESOURCE_NAME="groupMemberships.v2";var Ce=ve,be=function(e){function Groups(){return e.apply(this,arguments)||this}return r()(Groups,e),Groups}(ge.a);be.RESOURCE_NAME="groups.v1";var Ae=be,Oe=function(e){function OnDemandSessionMemberships(){return e.apply(this,arguments)||this}return r()(OnDemandSessionMemberships,e),OnDemandSessionMemberships.byUserAndCourse=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.finder("activeByUserAndCourse",s()({params:{userId:e,courseId:t}},n))},OnDemandSessionMemberships}(ge.a);Oe.RESOURCE_NAME="onDemandSessionMemberships.v1";var Ie,Re,ye,Ne,Pe,we,_e,Ue,xe,Te=Oe,De=t("J4zp"),je=t.n(De),Me=t("dcEN"),Le=t.n(Me),Ge=t("JJfJ"),Be=(Ie=Object(Ee.b)("itemDeadlines"),Re=Object(Ee.b)("startedAt"),ye=Object(Ee.b)("endedAt"),Ne=Object(Ee.b)("startedAt"),Pe=Object(Ee.b)("startedAt"),we=Object(Ee.b)("endedAt"),_e=Object(Ee.b)("startedAt","endedAt"),(xe=function(e){function OnDemandSessions(){return e.apply(this,arguments)||this}return r()(OnDemandSessions,e),OnDemandSessions.getEnrollableSessions=function(e){return e.filter((function(e){var t=e.enrollmentEndedAt;return Le()().isBefore(t)})).sort((function(e,t){return Le()(e.startedAt).diff(t.startedAt)}))},OnDemandSessions.getUpcomingSession=function(e){var t=OnDemandSessions.getEnrollableSessions(e);return je()(t,1)[0]},OnDemandSessions.formatDateShort=function(e){return Object(Ge.i)(e,Ge.g)},OnDemandSessions.prototype.getItemDeadline=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.itemDeadlines&&this.itemDeadlines[e];if(n)return n;if(this.moduleDeadlines&&t){var module=J()(this.moduleDeadlines,(function(e){return e.moduleId===t}));return module&&module.deadline}return null},P()(OnDemandSessions,[{key:"displayName",get:function(){var e=Object(Ge.i)(this.startedAt,Ge.a),t=Object(Ge.i)(this.endedAt,Ge.a);return"".concat(e," - ").concat(t)}},{key:"startMoment",get:function(){return Le()(this.startedAt)}},{key:"endMoment",get:function(){return Le()(this.endedAt)}},{key:"hasStarted",get:function(){return Le()().isAfter(this.startMoment)}},{key:"shortStartDate",get:function(){return OnDemandSessions.formatDateShort(this.startMoment)}},{key:"shortEndDate",get:function(){return OnDemandSessions.formatDateShort(this.endMoment)}},{key:"dateRangeString",get:function(){return"".concat(this.shortStartDate," – ").concat(this.shortEndDate)}}]),OnDemandSessions}(ge.a)).RESOURCE_NAME="onDemandSessions.v1",Ue=xe,fe()(Ue.prototype,"getItemDeadline",[Ie],Object.getOwnPropertyDescriptor(Ue.prototype,"getItemDeadline"),Ue.prototype),fe()(Ue.prototype,"startMoment",[Re],Object.getOwnPropertyDescriptor(Ue.prototype,"startMoment"),Ue.prototype),fe()(Ue.prototype,"endMoment",[ye],Object.getOwnPropertyDescriptor(Ue.prototype,"endMoment"),Ue.prototype),fe()(Ue.prototype,"hasStarted",[Ne],Object.getOwnPropertyDescriptor(Ue.prototype,"hasStarted"),Ue.prototype),fe()(Ue.prototype,"shortStartDate",[Pe],Object.getOwnPropertyDescriptor(Ue.prototype,"shortStartDate"),Ue.prototype),fe()(Ue.prototype,"shortEndDate",[we],Object.getOwnPropertyDescriptor(Ue.prototype,"shortEndDate"),Ue.prototype),fe()(Ue.prototype,"dateRangeString",[_e],Object.getOwnPropertyDescriptor(Ue.prototype,"dateRangeString"),Ue.prototype),Ue),ke=t("yBI8"),Ve=Object(z.a)("/api/groups.v1/",{type:"rest"}),getViewAsLearnerGroups_getViewAsLearnerGroups=function(e){var t=(new F.a).addQueryParam("q","viewableAsLearnerPrivateCommunityGroups").addQueryParam("scopeId","course~".concat(e));return q()(Ve.get(t.toString())).then((function(e){return e.elements.map((function(e){return{scopeId:e.definition.scopeId.id,scopeType:e.definition.scopeId.name,isArchived:!!e.definition.archivedAt,name:e.definition.name,id:e.id,slug:e.definition.slug}}))}))},CourseActions_initializeCourseApp=function(e,t){var n=t.courseId,r=t.branchesWithSessions,o=t.userCanSwitchGroups,i=t.excludeEmptyGroup;return(o?getViewAsLearnerGroups_getViewAsLearnerGroups(n):q()([])).then((function(t){var n=r.map((function(e){return s()({id:e.id,conflictMetadata:e.conflictMetadata,associatedSessionsList:Object.keys(e.properties.associatedSessions).map((function(n){var r=t.filter((function(e){return e.scopeId.split("~")[1]===n}));return s()({id:n,groups:r},e.properties.associatedSessions[n])}))},e.properties)}));e.dispatch("RECEIVE_BRANCHES_SESSIONS_GROUPS_FOR_COURSE",{branchesSessionsGroups:n,excludeEmptyGroup:i})}))},We=t("PJYZ"),Fe=t.n(We),He=t("3A1g"),qe=t("enFX"),ze=t.n(qe);function waitForStoresImpl(e,t,n){var o,s=[];if(t instanceof Array)o=t,s=t;else if(t.hasOwnProperty("requiredStores")||t.hasOwnProperty("lazyStores")){o=t.requiredStores||[];var i=t.lazyStores||[];s=s.concat(o,i)}var a=e.displayName||e.name,u=function(t){function StoreConnector(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).getStateFromStores=function(t){if(!e.haveRequiredStoresLoaded())return{};var r=t||e.props;if("function"==typeof n){var o={};return s.forEach((function(e){var t=e.name||e.storeName||e;o[t]=this.context.getStore(e)}),Fe()(e)),n(o,r)}var i={};return Object.keys(n).forEach((function(e){var t=n[e],o=this.context.getStore(e);ze()(i,t(o,r))}),Fe()(e)),i},e._onStoreChange=function(){e.setState(e.getStateFromStores())},e.haveRequiredStoresLoaded=function(){return o.every(function(e){var t=this.context.getStore(e);if(t.hasLoaded)return t.hasLoaded();throw new Error("waitForStores wrapping ".concat(this.displayName,": hasLoaded is not defined for ").concat(e,".\n Define the method or, if the method cannot be defined, include the store in 'lazyStores' instead."))}.bind(Fe()(e)))},e.state=e.getStateFromStores(e.props),e}r()(StoreConnector,t);var i=StoreConnector.prototype;return i.componentDidMount=function(){s.forEach((function(e){this.context.getStore(e).addChangeListener(this._onStoreChange)}),this)},i.componentWillReceiveProps=function(e){this.setState(this.getStateFromStores(e))},i.componentWillUnmount=function(){s.forEach((function(e){this.context.getStore(e).removeChangeListener(this._onStoreChange)}),this)},i.render=function(){return this.haveRequiredStoresLoaded()?c.createElement(e,ze()({},this.props,this.state)):e.LOADING_COMPONENT?c.createElement(e.LOADING_COMPONENT):null},StoreConnector}(c.Component);return u.displayName=a+"StoreConnector",u.contextTypes={getStore:He.default.getStore},Object(E.a)(u,e),u}var lib_waitForStores=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(t);if(2===r.length){var o=r[0],s=r[1];return function(e){return waitForStoresImpl(e,o,s)}}return waitForStoresImpl.apply(this,t)},selectContext=function(e,t){var n=t.contextId;e.dispatch("RECEIVE_CONTEXT_SELECTION",n)},Qe=t("kvW3"),Je=t("8Hdl"),Ke=t("OhL7"),Ye=t("l1rq"),Xe=t("rzCt"),Ze=t("fguj"),$e=t("TOZ3"),et=t("E+oP"),tt=t.n(et),nt=Object(z.a)("/api/authoringBranchProperties.v1/",{type:"rest"}),rt={getBranchProperties:function(e){var t=new F.a(e).addQueryParam("fields","properties,conflictMetadata");return q()(nt.get(t.toString()))},getBranchPropertiesByCourse:function(e){var t=(new F.a).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("fields","properties,conflictMetadata");return q()(nt.get(t.toString()))},updateBranchProperties:function(e,t,n){var r={properties:t,conflictMetadata:n},o=new F.a(e).addQueryParam("fields","properties,conflictMetadata");return q()(nt.put(o.toString(),{data:r}))}},ot=rt,st=t("EBKd");t("cbmK"),t("x6rN");Object(st.a)("course"),Object(z.a)("/api/authoringBranchProperties.v1",{type:"rest"}),Object(z.a)("/api/authoringCourseBranches.v1",{type:"rest"}),Object(z.a)("/api/onDemandCourseLaunchEmails.v1",{type:"rest"}),Object(z.a)("/api/authoringCopyBranches.v2",{type:"rest"}),Object(z.a)("/api/itemDraftProperties.v1/",{type:"rest"});var it,branchActions_selectBranch=function(e,t){var n=t.branchId;if(n===G)return q()();var r=ot.getBranchProperties(n).then((function(t){e.dispatch("SAVE_CONFLICT_METADATA_FOR_BRANCH",{branchId:n,conflictMetadata:t.elements[0].conflictMetadata})}));return r.done(),r},at=t("PWsg"),ct=t.n(at),ut=function(e){function BranchStatus(){return e.apply(this,arguments)||this}return r()(BranchStatus,e),BranchStatus.prototype.render=function(){var e=this.props.branch,t=getSortedSessions(e).filter((function(e){return!e.isPreview})),n="";if(e.branchStatus)switch(e.branchStatus){case L.NEW:n=ct()("New");break;case L.PENDING:n=ct()("Pending");break;case L.UPCOMING:n=t.length>0?ct()("Upcoming, Starts ")+Object(Ge.i)(t[0].startedAt,Ge.g):ct()("Upcoming, No Session Exists");break;case L.LIVE:if(t[t.length-1]){var r=t.filter((function(e){return e.enrollmentEndedAt>Y()()})).length<=1?Object(Ge.i)(t[t.length-1].endedAt,Ge.d):"present";n="".concat(Object(Ge.i)(t[0].startedAt,Ge.g)," - ").concat(r);break}n="";break;case L.ARCHIVED:n=ct()("Archived")}var o=e.isPrivate&&c.createElement("span",{style:{color:"#E85628",marginLeft:"6px"}}," ",ct()("Private")," "),s=c.createElement("strong",null,e.name);return c.createElement("span",{className:"rc-BranchStatus"},s,n&&": ".concat(n),o)},BranchStatus}(c.Component),lt=t("lSNA"),dt=t.n(lt),styles_root=function(e){return Object(Ke.c)({justifyContent:"center",width:e?80:"fit-content"})},components_StatusIndicator=function(e){var t,n,r=e.status,o=e.style,s=e.customLabel,i=e.isDropdown,a=e.ariaLabel,c=e.className,u={upcoming:{label:oe()("Upcoming"),color:"highlight1"},live:{label:oe()("Live"),color:"success"},archived:{label:oe()("Archived"),color:"default"},new:{label:oe()("New"),color:"warning"},failed:{label:oe()("Failed"),color:"error"},creating:{label:oe()("Creating..."),color:"warning"},pending:{label:oe()("Pending"),color:"warning"},draft:{label:oe()("Draft"),color:"default"}}[(t=r,(n={},dt()(dt()(dt()(dt()(dt()(dt()(dt()(dt()(dt()(dt()(n,B.c.NEW,B.c.NEW),B.c.UPCOMING,B.c.UPCOMING),B.c.LIVE,B.c.LIVE),B.c.ARCHIVED,B.c.ARCHIVED),B.c.RUNNING,B.c.LIVE),B.c.ENDED,B.c.ARCHIVED),B.c.PENDING,B.c.PENDING),B.c.OPEN,B.c.LIVE),B.c.CREATING,B.c.CREATING),B.c.FAILED,B.c.FAILED),dt()(n,B.c.DRAFT,B.c.DRAFT))[t])];if(!u)return null;var l=u.label,d=u.color;return Object(Ke.d)(ne.a,{priority:"primary",variant:"status",color:d,css:styles_root(i),style:o,"aria-label":a,className:c},s||l)},pt={select:Object(Ke.c)(it||(it=a()(["\n    margin: 12px 0;\n\n    // prevents CDS Tag color from being overridden when\n    // the select is open: https://coursera.atlassian.net/browse/CDS-874\n    .cds-tag-primary span {\n      color: currentcolor !important;\n    }\n  "])))},ht=function(e){function BranchSwitcher(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onBranchSelect=function(e){var n=t.props,r=n.onSelect,o=n.selectedBranchId,s=n.persistBranchSelectionChanges,i=t.context,a=i.executeAction,c=i.router;o!==e&&(r&&r(e),s&&(BranchUtils_pushBranchIdToUrl(e,c),a(branchActions_selectBranch,{branchId:e})))},t.renderMenuOption=function(e){return Object(Ke.d)($e.b,{justifyContent:"start"},e&&e.branchStatus&&Object(Ke.d)(components_StatusIndicator,{status:e.branchStatus,isDropdown:!0,style:{marginRight:10}}),Object(Ke.d)(ut,{branch:e}))},t.renderDropdownTitle=function(e){var n=t.props.branches.find((function(t){return t.id===e}));return n?Object(Ke.d)(Ye.a,{component:"p",variant:"bodyPrimary",className:"dropdown-title"},t.renderMenuOption(n)):null},t}return r()(BranchSwitcher,e),BranchSwitcher.prototype.render=function(){var e=this,t=this.props,n=t.branches,r=t.selectedBranchId,o=t.showIfSingleBranch,s=t.isEnabled,i=t.label,a=void 0===i?ue()("Version"):i;if(!n||0===n.length||!r||!o&&n.length<=1)return null;var c=n.filter((function(e){return e.branchStatus!==L.CREATING}));return Object(Ke.d)("div",{className:"rc-BranchSwitcher",css:pt.select},Object(Ke.d)(Xe.a,{label:a,value:r,onChange:function(t){return e.onBranchSelect(t.target.value)},disabled:!s,fullWidth:!0},c.map((function(t){return Object(Ke.d)(Ze.a,{value:t.id,key:t.id},e.renderMenuOption(t))}))))},BranchSwitcher}(c.Component);ht.contextTypes={router:g.a.object.isRequired,executeAction:g.a.func.isRequired},ht.defaultProps={persistBranchSelectionChanges:!0,onSelect:function(){},isEnabled:!0};var mt,ft=ht,gt=t("AWZ4"),Et=t("XBa+"),St=t("gNwb"),vt=Object(h.b)(Object(h.k)("AuthoringTrackedButton"),Object(St.b)({type:"BUTTON"}))(gt.b),Ct=t("cAeq"),bt=(t("y18Z"),function(e){var t=e.buttonSize,n=e.onCancelButtonClick,r=e.onPrimaryButtonClick,o=e.onSecondaryButtonClick,s=e.isCancelButtonDisabled,i=void 0!==s&&s,a=e.isPrimaryButtonDisabled,u=void 0!==a&&a,l=e.isSecondaryButtonDisabled,d=void 0!==l&&l,p=e.cancelButtonContents,h=void 0===p?ue()("Cancel"):p,m=e.primaryButtonContents,f=e.secondaryButtonContents,g=e.disabledPrimaryExplanation,E=e.explanationClassName,S=e.primaryApiButtonProps,v=e.trackingNameForPrimaryButton,C=e.trackingDataForPrimaryButton,b=v?c.createElement(vt,{rootClassName:"modal-button-footer-primary",type:"primary",size:t,onClick:r,disabled:u,trackingName:v,trackingData:C},m):c.createElement(gt.b,{rootClassName:"modal-button-footer-primary",type:"primary",size:t,onClick:r,disabled:u},m);return c.createElement($e.b,{rootClassName:"rc-ModalButtonFooter",justifyContent:"end",alignItems:"end"},!!n&&c.createElement(gt.b,{type:"default",size:t,onClick:n,disabled:i},h),!!f&&c.createElement(gt.b,{rootClassName:"modal-button-footer-secondary",type:"secondary",size:t,onClick:o,disabled:d},f),!!m&&!S&&c.createElement(Ct.b,{show:u&&g,message:g,tooltipClassName:E},b),!!S&&c.createElement(Ct.b,{show:u&&g,message:g,tooltipClassName:E},c.createElement(Et.a,y()({rootClassName:"modal-button-footer-primary",type:"primary",size:t,onClick:r,disabled:u},S))))}),At=t("ZLWr"),Ot=t.n(At),course_view_GroupInfo=function(e){var t=e.group;return(c.createElement("span",{className:"rc-GroupInfo"},Ot()(t.name)))},It={select:Object(Ke.c)(mt||(mt=a()(["\n    margin: 12px 0;\n  "])))},Rt=function(e){function GroupSwitcher(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleGroupSelect=function(e){var n=t.props,r=n.onGroupSelect;n.selectedGroupId!==e&&r(e)},t.getSelectedGroupId=function(){var e=t.props,n=e.selectedGroupId,r=e.groups;return n||(r.length>0&&r[0].isEmptyGroup?je()(t.props.groups,1)[0].id:void 0)},t}return r()(GroupSwitcher,e),GroupSwitcher.prototype.render=function(){var e=this,t=this.props.groups,n=0===t.length,r=t.sort((function(e,t){return e.name||t.name?void 0===e.name?1:void 0===t.name?-1:function(e,t){var n=(null!=e?e:"").toLowerCase().localeCompare((null!=t?t:"").toLowerCase(),void 0,{numeric:!0});return 0===n?n:n>0?1:-1}(e.name,t.name):0})),o=t.map((function(e){return e.id})).join("-"),s=n?Ot()("No groups available for this session"):Ot()("Select a group"),i=this.getSelectedGroupId();return Object(Ke.d)("div",{className:"rc-GroupSwitcher",css:It.select},Object(Ke.d)(Xe.a,{key:o,label:Ot()("Choose a group within the session to use when viewing as a learner."),placeholder:s,disabled:n,value:i,onChange:function(t){return e.handleGroupSelect(t.target.value)},fullWidth:!0},r.reduce((function(e,t){return t&&e.push(Object(Ke.d)(Ze.a,{value:t.id,key:t.id},Object(Ke.d)(course_view_GroupInfo,{group:t}))),e}),[])))},GroupSwitcher}(c.Component);Rt.contextTypes={router:g.a.object.isRequired},Rt.defaultProps={onGroupSelect:function(){}};var yt,Nt=Rt,Pt=t("k4Da"),wt=t.n(Pt),_t=Object.freeze({LIVE:"live",UPCOMING:"upcoming",ARCHIVED:"archived"}),Ut=Object.freeze(dt()(dt()(dt()({},_t.LIVE,3),_t.UPCOMING,2),_t.ARCHIVED,1)),components_SessionStatusPill=function(e){var t=e.startedAt,n=e.enrollmentEndedAt,r=e.endedAt,o=e.hideEndedStatus,s=function(e){var t=e.startedAt,n=e.endedAt,r=(e.enrollmentEndedAt,Y()());return Y()(t).isAfter(r)?_t.UPCOMING:Y()(n).isAfter(r)?_t.LIVE:_t.ARCHIVED}({startedAt:t,endedAt:r,enrollmentEndedAt:n});return s===_t.ARCHIVED&&o?null:c.createElement(components_StatusIndicator,{status:s,style:{height:20}})},xt=function(e){function SessionOnlyInfo(){return e.apply(this,arguments)||this}return r()(SessionOnlyInfo,e),SessionOnlyInfo.prototype.render=function(){var e=this.props,t=e.session,n=e.isSessionsV2Enabled,r=t.isPrivate?c.createElement("span",{style:{color:"#E85628",marginLeft:"10px",marginRight:"10px"}}," ",ue()("Private")," "):c.createElement("span",{style:{color:"#0156b8",marginLeft:"10px",marginRight:"10px"}}," ",ue()("Public")," "),o=Object(Ge.i)(t.startedAt,Ge.a),s=Object(Ge.i)(t.endedAt,Ge.a),i=c.createElement("span",null,"".concat(o," - ").concat(s)),a=!n||t.isPrivate;return c.createElement($e.b,{rootClassName:"rc-SessionOnlyInfo",justifyContent:"start"},c.createElement(components_SessionStatusPill,{startedAt:t.startedAt,enrollmentEndedAt:t.enrollmentEndedAt,endedAt:t.endedAt}),r,a&&i)},SessionOnlyInfo}(c.Component),Tt={select:Object(Ke.c)(yt||(yt=a()(["\n    margin: 12px 0;\n\n    // prevents CDS Tag color from being overridden when\n    // the select is open: https://coursera.atlassian.net/browse/CDS-874\n    .cds-tag-primary span {\n      color: currentcolor !important;\n    }\n  "])))},Dt=function(e){function SessionSwitcher(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleSessionSelect=function(e){var n=t.props,r=n.onSessionSelect;n.selectedSessionId!==e&&r(e)},t}return r()(SessionSwitcher,e),SessionSwitcher.prototype.render=function(){var e=this,t=this.props,n=t.sessions,r=t.selectedSessionId,o=t.isSessionsV2Enabled,s=0===n.length,i=n.sort((function(e,t){return function(e,t){return t.status!==e.status?Ut[t.status]-Ut[e.status]:t.startedAt-e.startedAt}(e,t)})),a=wt()(i,(function(e){var t=e.isPrivate,n=e.enrollmentEndedAt,r=e.startedAt,o=e.endedAt,s=Y()(),i=Y()(r).isBefore(s)&&(Y()(o).isAfter(s)||Y()(n).isAfter(s));return!t&&i})),c=i.filter((function(e){return!o||e.isPrivate})),u=J()(i.reverse(),(function(e){var t=e.isPrivate,n=e.startedAt,r=Y()();return!t&&Y()(n).isAfter(r)})),l=tt()(a)?u:D()(a,(function(e){return e.startedAt}));o&&l&&"number"!=typeof l&&c.unshift(l);var d=s?Ot()("No sessions available for this version"):void 0;return Object(Ke.d)("div",{className:"rc-SessionSwitcher",css:Tt.select},Object(Ke.d)(Xe.a,{placeholder:d,label:Ot()("Session"),value:r,onChange:function(t){return e.handleSessionSelect(t.target.value)},disabled:s,fullWidth:!0},c.reduce((function(e,t){return t&&e.push(Object(Ke.d)(Ze.a,{value:t.id,key:t.id},Object(Ke.d)(xt,{session:t,isSessionsV2Enabled:o}))),e}),[])))},SessionSwitcher}(c.Component);Dt.contextTypes={router:g.a.object.isRequired},Dt.defaultProps={onSessionSelect:function(){}};var jt,Mt=Dt,BranchSessionGroupActions_selectBranch=function(e,t){e.dispatch("RECEIVE_BRANCH_SELECTION",t)},selectSession=function(e,t){e.dispatch("RECEIVE_SESSION_SELECTION",t)},selectGroup=function(e,t){e.dispatch("RECEIVE_GROUP_SELECTION",t)},preselectedSettings=function(e,t){var n=t.branchId,r=t.sessionId,o=t.groupId;e.dispatch("RECEIVE_BRANCH_SELECTION",n),e.dispatch("RECEIVE_SESSION_SELECTION",r),e.dispatch("RECEIVE_GROUP_SELECTION",o)},Lt=t("JPjw"),Gt=(t("OoD8"),function(e){function ChangeCourseViewSettingsModal(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={loadingPreview:!1},t.handleCancel=function(){t.handleCloseModal()},t.handleSelectBranch=function(e){(0,t.context.executeAction)(BranchSessionGroupActions_selectBranch,e)},t.handleSelectSession=function(e){(0,t.context.executeAction)(selectSession,e)},t.handleSelectGroup=function(e){(0,t.context.executeAction)(selectGroup,e)},t.handleCloseModal=function(){var e=t.props.onCloseModal;t.enableScroll(),e()},t.onPreview=function(){var e=t.props,n=e.courseId,r=e.branches,o=e.selectedSessionId,s=e.selectedGroupId,i=e.selectedBranchId,a=e.userCanSwitchGroups,c=t.context.executeAction;r.find((function(e){return e.id===i}))&&(t.setState((function(){return{loadingPreview:!0}})),c(ChangeViewSettingActions_changeUserEnrollment,{courseId:n,sessionId:o,groupId:s,userCanSwitchGroups:a}))},t.disableScroll=function(){var e=document.body;e&&(e.style.overflow="hidden")},t.enableScroll=function(){var e=document.body;e&&(e.style.overflow="visible")},t}return r()(ChangeCourseViewSettingsModal,e),ChangeCourseViewSettingsModal.prototype.render=function(){var e=this.props,t=e.branches,n=e.sessions,r=e.groups,o=e.selectedSessionId,s=e.selectedBranchId,i=e.selectedGroupId,a=e.isSessionsV2Enabled,u=e.userCanSwitchGroups,l=this.state.loadingPreview;return c.createElement(Lt.a,{className:"rc-ChangeCourseViewSettingsModal",onRequestClose:this.handleCloseModal,onAfterOpen:this.disableScroll},c.createElement(Je.a,{className:"modal-header",variant:"h1",component:"h2"},Ot()("Change View Settings")),c.createElement("div",{className:"modal-description"},u&&c.createElement(Qe.b,{message:Ot()("Choose a version to view as a learner, choose a specific session and group\n              (if any) associated with that version to see what learners in those sessions/groups see.")}),!u&&c.createElement(Qe.b,{message:Ot()("Choose a version to view as a learner, choose a specific session associated\n                with that version to see what learners in that session see.")})),c.createElement(ft,{label:Ot()("Version"),selectedBranchId:s,branches:t,onSelect:this.handleSelectBranch,showIfSingleBranch:!0,persistBranchSelectionChanges:!1}),c.createElement(Mt,{sessions:n,selectedSessionId:o,onSessionSelect:this.handleSelectSession,isSessionsV2Enabled:a}),u&&c.createElement(Nt,{selectedGroupId:i,groups:r,onGroupSelect:this.handleSelectGroup}),c.createElement(bt,{onCancelButtonClick:this.handleCancel,onPrimaryButtonClick:this.onPreview,isCancelButtonDisabled:l,isPrimaryButtonDisabled:l,primaryButtonContents:l?Ot()("Loading..."):Ot()("Continue")}))},ChangeCourseViewSettingsModal}(c.Component));Gt.contextTypes={executeAction:g.a.func.isRequired};var Bt,kt,Vt,Wt,Ft,Ht,qt,zt,Qt,Jt,Kt,Yt,Xt,Zt,$t=Object(h.b)(Object(A.a)(Object(l.a)(jt||(jt=a()(["\n      query CourseViewSessionsV2AuthoringEligibilityCheckQuery($courseId: String!) {\n        CourseSessionsV2AuthoringEligibilityCheckV1Resource {\n          get(id: $courseId) {\n            eligibleForSessionsV2\n          }\n        }\n      }\n    "]))),{options:function(e){return{variables:{courseId:e.courseId}}},props:function(e){var t=e.data.SessionsV2AuthoringEligibilityCheckV1Resource;if(t){var n=t.get;return{isSessionsV2Enabled:n&&n.eligibleForSessionsV2}}return{isSessionsV2Enabled:!1}}}),Object(m.a)(["ChangeViewSettingsModalStore"],(function(e){var t=e.ChangeViewSettingsModalStore;return{selectedBranchId:t.getSelectedBranchId(),selectedSessionId:t.getSelectedSessionId(),selectedGroupId:t.getSelectedGroupId(),sessions:t.getSessions(),groups:t.getGroups(),branches:t.getBranches()}})))(Gt),en=t("fsL8"),tn=t.n(en),nn=t("yXPU"),rn=t.n(nn),on=t("Who7"),sn=t("ZJgU"),an=t("J824"),cn=Object(z.a)("/api/openCourseMemberships.v1",{type:"rest"}),un=Object(z.a)("/api/authoringCourses.v2",{type:"rest"}),ln=Object(z.a)("/api/partners.v1",{type:"rest"}),dn=Object(z.a)("/api/authoringCourseContexts.v1",{type:"rest"}),pn=Object(z.a)("/api/partnerTypeMetadata.v1",{type:"rest"}),hn={getCourse:function(e){return rn()(tn()().mark((function _callee(){var t,n,r;return tn()().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,un.get(e);case 2:return t=o.sent,(n=t.elements[0]).course.id=n.id,o.next=7,hn.getPartners(n.course.partnerIds);case 7:return r=o.sent,n.course.partners=r,o.abrupt("return",n);case 10:case"end":return o.stop()}}),_callee)})))()},getCourseBySlug:function(e){var t=(new F.a).addQueryParam("q","bySlug").addQueryParam("slug",e);return q()(un.get(t.toString())).then((function(e){var t=e.elements[0];return t.course.id=t.id,hn.getPartners(t.course.partnerIds).then((function(e){return t.course.partners=e,t}))}))},getPartners:function(e){var t=(new F.a).addQueryParam("ids",e.join(",")).addQueryParam("fields","squareLogo,rectangularLogo");return q()(ln.get(t.toString())).then((function(e){return e.elements}))},getMembership:function(e,t){return q()(cn.get(t+"~"+e)).then((function(e){return e.elements?e.elements[0].courseRole:"BROWSER"})).catch((function(e){if(404===e.status)return"BROWSER";throw e}))},getCourseContexts:function(e){var t=new F.a(e).addQueryParam("fields","contexts,contextIds");return q()(dn.get(t.toString())).then((function(e){return e.elements?e.elements[0]:[]}))},getPrivateAuthoringPartner:function(e){var t=e.partnerId;return t?q()(pn.get("".concat(t)).then((function(e){var t=e.elements?e.elements[0]:null;return!!t&&t.isPrivateAuthoringPartner}))):q()()},getPartnerTypeMetadata:function(e){var t=e.courseId;if(!t)return q()();var n=(new F.a).addQueryParam("q","byCourse").addQueryParam("courseId",t);return q()(pn.get(n.toString())).then((function(e){var t=e.elements?e.elements[0]:null;return t?{isC4CPartner:t.isEnterpriseClientPartner,isPrivateAuthoringPartner:t.isPrivateAuthoringPartner}:{isC4CPartner:!1,isPrivateAuthoringPartner:!1}}))},updateCourseAccessibilitySettings:function(e,t){return q()(un.post("?action=assetLibraryAccessibilitySettingsUpdate&id="+e,{data:t})).then((function(e){return e})).catch((function(e){return e}))}},mn=(hn.getCourse,hn.getCourseBySlug),fn=(hn.getPartners,hn.getMembership,hn.getPrivateAuthoringPartner,hn.getPartnerTypeMetadata,hn.getCourseContexts),gn=(hn.updateCourseAccessibilitySettings,{getBaseUrl:function(e){return"/teach/".concat(e,"/course")},getOverviewUrl:function(e){return"".concat(this.getBaseUrl(e),"/overview")},getAnalyticsUrl:function(e){return"".concat(this.getBaseUrl(e),"/analytics")},getSettingsUrl:function(e){return"".concat(this.getBaseUrl(e),"/settings")},getAnnouncementsUrl:function(e){return"".concat(this.getBaseUrl(e),"/announcements")},getExportsUrl:function(e){return"".concat(this.getBaseUrl(e),"/analytics/exports")},getRostersUrl:function(e,t){return"/teach/".concat(e,"/").concat(t,"/learners/rosters")},getAssignmentsGradingUrl:function(e,t){return"/teach/".concat(e,"/").concat(t,"/grading/assignment-grading")},getEditContentUrl:function(e,t){return"/teach/".concat(e,"/").concat(t,"/content/edit")},getLearnersUrl:function(e,t){return"/teach/".concat(e,"/").concat(t,"/learners")},getSessionSettingsUrl:function(e,t){return"/teach/".concat(e,"/").concat(t,"/settings")},getCourseSettingsUrl:function(e){return"/teach/".concat(e,"/course/settings")},getSuperuserUrl:function(e){return"/teach/".concat(e,"/course/superuser/settings")},getViewAsLearnerUrl:function(e){return"/learn/".concat(e,"/home/welcome")}}),En=gn,Sn=t("NqYN"),vn=(t("vDB9"),t("k6X/"),function(e){var t=e.courseCatalogType,n=e.contexts;return!(null==n||!n.length||n.length>1||"publicBranchContext"!==(null==n?void 0:n[0].typeName))&&function(e){var t=e.courseCatalogType;return k.ENTERPRISE===t}({courseCatalogType:t})}),courseBuilderUtils_hasSimplifiedView=function(e){var t=e.courseCatalogType,n=e.contexts;if(!vn({courseCatalogType:t,contexts:n}))return!1;var r=Sn.a.get("hasCourseBuilderPilotView");return"true"===r||null==r},Cn=(new Set(["227","451"]),function(){var e=rn()(tn()().mark((function _callee(e){var t,n,r,o,s,i;return tn()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,mn(e);case 2:return t=a.sent,n=t.course,a.next=6,fn(n.id);case 6:return r=a.sent,o=r.contexts,s=void 0===o?[]:o,i=Object.values(s),a.abrupt("return",{course:n,courseContexts:i});case 11:case"end":return a.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}()),bn=function(){var e=rn()(tn()().mark((function _callee2(e){var t,n,r,o;return tn()().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Cn(e);case 2:return t=s.sent,n=t.course,r=t.courseContexts,o=courseBuilderUtils_hasSimplifiedView({courseCatalogType:pe(n),contexts:r}),s.abrupt("return",o?En.getEditContentUrl(e,n.id):En.getOverviewUrl(e));case 7:case"end":return s.stop()}}),_callee2)})));return function(t){return e.apply(this,arguments)}}(),An=(t("+TN3"),t("CdGt"),t("d8FT")),On=t.n(An),In=t("BYMk"),Rn=t.n(In),capitalizeEachWord=function(e){if(e)return e.replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))}))},customLabelsMapping_getCustomCourseTerm=function(e,t){var n;return n=e?"guided project"===e||"project"===e?Rn()("project"):e:Rn()("course"),t?capitalizeEachWord(n):n},customLabelsMapping_getCustomWeekTerm=function(e,t,n){var r;return r=!t&&e?Rn()("module"):!t&&!e||"week"===(null==t?void 0:t.toLowerCase())?Rn()("week"):"project"===t?Rn()("project"):"module"===t?Rn()("module"):t,n?capitalizeEachWord(r):r},yn=t("Gcrz"),Nn=t("4ga8"),Pn=t.n(Nn),withIsWeekToModuleEnabled_withIsWeekToModuleEnabledForCourse=function(e){return Object(yn.c)(Pn.a,{skip:function(e){var t=e.course;return!(e.courseId||null!=t&&t.id)},options:function(e){var t=e.course,n=e.courseId;return{variables:{courseId:t?t.id:"".concat(n)},context:{clientName:"gatewayGql"}}},props:function(e){var t,n,r=e.data;return{isWeekToModuleEnabledForCourse:!(null==r||null===(t=r.Course)||void 0===t||null===(n=t.queryById)||void 0===n||!n.isWeekToModuleEnabledForCourse)}}})(e)},withCustomLabelsMapping_useWithCustomLabelsMapping=function(e){var t=e.customLabelsV2,n=(e.courseId,e.isWeekToModuleEnabledForCourse),r=customLabelsMapping_getCustomCourseTerm(),o=customLabelsMapping_getCustomWeekTerm(n),i=capitalizeEachWord(r),a=capitalizeEachWord(o),getNumberedWeekTerms=function(e){var r=n?Rn()("module #{weekNumber}",{weekNumber:e}):Rn()("week #{weekNumber}",{weekNumber:e}),s=n?Rn()("Module #{weekNumber}",{weekNumber:e}):Rn()("Week #{weekNumber}",{weekNumber:e});if(t){var i=t.namings,c=t.moduleNames,u=t.isRhyme,l=i.courseraWeek,d=customLabelsMapping_getCustomWeekTerm(n,l),p=capitalizeEachWord(d);if(u)r=null!=l?l:r,s=null!=p?p:s;else if(c){var h,m=(null!==(h=c.find((function(t){return t.weekNumber===e})))&&void 0!==h?h:{}).moduleName;m&&(r=null!=m?m:r,s=null!=m?m:s)}else r=Rn()("#{courseraWeek} #{weekNumber}",{courseraWeek:null!=l?l:o,weekNumber:e}),s=Rn()("#{courseraWeekWithCapitalization} #{weekNumber}",{courseraWeekWithCapitalization:null!=p?p:a,weekNumber:e})}return{weekWithNumber:r,capitalizedWeekWithNumber:s}};return{replaceCustomContent:function(e,u){var l=null!=u?u:{},d=l.additionalVariables,p=void 0===d?{}:d,h=l.weekNumber,m=l.returnsString,f=void 0!==m&&m,g={};if(t){var E=t.namings,S=E.courseraCourse,v=E.courseraWeek,C=customLabelsMapping_getCustomCourseTerm(S),b=customLabelsMapping_getCustomWeekTerm(n,v),A=capitalizeEachWord(C),O=capitalizeEachWord(b);g=On()(s()(s()({},p),{},{course:C,week:b,capitalizedCourse:A,capitalizedWeek:O}))}var I=s()(s()(s()({},p),{},{course:r,week:o,capitalizedCourse:i,capitalizedWeek:a},g),h&&getNumberedWeekTerms(h));return f?Rn()(e,I):c.createElement(Qe.b,y()({message:e},I))},isWeekToModuleEnabledForCourse:n}},withCustomLabelsMapping=function(e){return Object(h.b)(withIsWeekToModuleEnabled_withIsWeekToModuleEnabledForCourse,Object(h.n)((function(e){var t=e.customLabelsV2,n=e.courseId,r=e.isWeekToModuleEnabledForCourse;return withCustomLabelsMapping_useWithCustomLabelsMapping({customLabelsV2:t,courseId:n,isWeekToModuleEnabledForCourse:r})})))(e)},wn=Object(l.a)(Bt||(Bt=a()(["\n  query CustomLabelsQuery($userId: String!, $courseId: String!) {\n    CustomLabelsV2 @naptime {\n      byUserAndCourse(userId: $userId, courseId: $courseId) {\n        elements {\n          id\n          moduleNames\n          isRhyme\n          namings {\n            courseraCourse\n            courseraWeek\n          }\n        }\n      }\n    }\n  }\n"]))),_n=t("6oCb"),Un=t.n(_n),xn={root:Object(Ke.c)(kt||(kt=a()(["\n    margin: 0 !important;\n\n    a {\n      ",";\n    }\n  "])),on.c.bodyPrimary)},Tn=Object(h.b)(Object(h.g)((function(e){var t=e.course;return{course:t,courseId:t.id}})),(function(e,t){return Object(h.b)(Object(h.n)((function(){return{userId:C.a.get().id.toString()}})),Object(A.a)(wn,{options:function(e){return{variables:{courseId:e.courseId,userId:e.userId},ssr:!1}},props:function(e){var t,n,r,o=e.data,i=e.ownProps,a=null==o?void 0:null===(t=o.CustomLabelsV2)||void 0===t?void 0:null===(n=t.byUserAndCourse)||void 0===n?void 0:null===(r=n.elements)||void 0===r?void 0:r[0];return s()(s()({},i),{},{customLabelsV2:a})}},t),withCustomLabelsMapping)(e)}))((function(e){var t=e.course,n=(0,e.replaceCustomContent)(Un()("Edit #{capitalizedCourse}"),{returnsString:!0}),r=function(){var e=rn()(tn()().mark((function _callee(e){var n;return tn()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,bn(t.slug);case 3:n=r.sent,window.location.assign(n);case 5:case"end":return r.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}();return Object(Ke.d)("div",{className:"rc-EditCourse",css:xn.root},Object(Ke.d)(sn.a,{variant:"ghost",component:"a",href:"#",onClick:r,icon:Vt||(Vt=Object(Ke.d)(an.a,null)),iconPosition:"before"},n))})),Dn=t("GAo5"),jn="instructions",Mn="submission",Ln="programming.discussions",Gn="sharing",Bn=dt()(dt()(dt()(dt()(dt()(dt()(dt()(dt()(dt()({gradedLti:"lti",ungradedLti:"lti","quiz-cover":"quiz","practice-quiz-cover":"quiz","ca-cover":"project","assignment-submission-cover":"project",widget:"plugin",reading:"supplement"},jn,"programming"),Mn,"programming"),Ln,"programming"),Gn,"programming"),"team","project"),"teammate-review-item","teammate-review"),"teammate-review-cover","teammate-review"),"teammate-review-review","teammate-review"),"teammate-review-grades","teammate-review"),kn={root:Object(Ke.c)(Wt||(Wt=a()(["\n    margin: 0 !important;\n\n    a {\n      ",";\n    }\n  "])),on.c.bodyPrimary)},components_EditItem=function(e){var t,n=e.course,r=e.itemId,o=e.currentRouteName,s=e.versionId,i=e.groupId,a=e.matchedContext,c=e.shouldUseContextBasedVaL,u="resourcesWithRefId"===o?"resources":"item/"+(t=o.split(".")[0],Bn[t]||t),l=c?contextUtils_getContextIdFromContext(a):null!=i?i:s.replace("authoringBranch~","");return Object(Ke.d)("div",{className:"rc-EditItem",css:kn.root},Object(Ke.d)(sn.a,{variant:"ghost",component:"a",icon:Ft||(Ft=Object(Ke.d)(Dn.a,null)),iconPosition:"before",href:"/teach/".concat(n.slug,"/").concat(l,"/content/").concat(u,"/").concat(r)},Un()("Edit Item")))},Vn=(t("QOYm"),function(){return Ht||(Ht=c.createElement("div",{className:"rc-FullHeightDivider"}))}),Wn=t("D1fW"),Fn=(t("1KRk"),function(e){var t=e.children,n=e.onClick;return(c.createElement("div",{className:"rc-OpenSettingsButton"},c.createElement(gt.b,{type:"noStyle",onClick:n},t,qt||(qt=c.createElement("div",{className:"settings-icon-container"},c.createElement(Wn.a,{size:24,color:"#757575",hoverColor:"#2A73CC"}))))))}),Hn=t("fAYU"),qn=t("erCQ"),zn=t.n(qn),Qn=Object(Ke.c)(zt||(zt=a()(["\n  height: 100%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),components_HeaderHelpLink=function(e){var t=e.children;return Object(Ke.d)("div",{className:"rc-HeaderHelpLink",css:Qn},Object(Ke.d)(Hn.a,{variant:"quiet",typographyVariant:"subtitleMedium",href:"https://partner.coursera.help/hc/",target:"_blank",rel:"noopener noreferrer"},null!=t?t:zn()("Help")))},Jn=(t("8MTW"),function(){return Qt||(Qt=c.createElement("div",{className:"rc-PreviewHelp"},c.createElement(components_HeaderHelpLink,null)))}),Kn=t("TSYQ"),Yn=t.n(Kn),Xn=(t("60Ah"),function(e){var t=e.className,n=e.children;return(c.createElement("div",{className:Yn()("rc-ToolbarBox",t)},n))}),Zn=(t("qW3A"),function(e){var t=e.course,n=e.matchedContext,r=e.currentRouteName,o=e.itemId,s=e.onSettingsButtonClick,i=e.userCanViewTeach,a=e.versionId,u=e.groupId,l=e.shouldUseContextBasedVaL;return(c.createElement(Xn,{className:"rc-Actions"},c.createElement("div",{className:"settings-button-container"},c.createElement(Fn,{onClick:s})),i&&o&&r&&!!n&&c.createElement(components_EditItem,{course:t,matchedContext:n,itemId:o,currentRouteName:r,versionId:a,groupId:u,shouldUseContextBasedVaL:l}),i&&c.createElement(Tn,{course:t}),i&&(Jt||(Jt=c.createElement(Vn,null))),i&&(Kt||(Kt=c.createElement(Jn,null)))))}),contextDateUtils_getContextDateString=function(e){var t=e.status,n=e.createdAt,r=e.startsAt,o=e.endsAt,s=e.typeName,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge.a,a="";if(s===V.b.SESSION_GROUP)a=ue()("#{startDateString} - #{endDateString}",{startDateString:Object(Ge.i)(r,i),endDateString:Object(Ge.i)(o,i)});else switch(t){case L.NEW:n&&(a=ue()("Created on #{createdAtString}",{createdAtString:Object(Ge.i)(n,i)}));break;case L.UPCOMING:case L.PENDING:a=ue()("Starts on #{startDateString}",{startDateString:Object(Ge.i)(r,i)});break;case L.LIVE:a=ue()("#{startDateString} - present",{startDateString:Object(Ge.i)(r,i)});break;case L.ARCHIVED:default:r&&o?a=ue()("#{startDateString} - #{endDateString}",{startDateString:Object(Ge.i)(r,i),endDateString:Object(Ge.i)(o,i)}):n&&(a=ue()("Created on #{createdAtString}",{createdAtString:Object(Ge.i)(n,i)}))}return a},$n={select:Object(Ke.c)(Yt||(Yt=a()(["\n    margin: 12px 0;\n\n    .cds-input-input {\n      height: auto !important;\n    }\n\n    // prevents CDS Tag color from being overridden when\n    // the select is open: https://coursera.atlassian.net/browse/CDS-874\n    .cds-tag-primary span {\n      color: currentcolor !important;\n    }\n  "]))),name:Object(Ke.c)(Xt||(Xt=a()(["\n    width: 290px;\n    margin: 0 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  "]))),contextInfo:Object(Ke.c)(Zt||(Zt=a()(["\n    min-width: 0;\n  "])))},er=function(e){function ContextSwitcher(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onContextSelect=function(e){var n=t.props,r=n.onSelect,o=n.selectedContextId,s=n.courseContexts;if(o!==e){var i=getContextByContextId(s,e);if(!i)return;r(e,i)}},t.renderMenuOption=function(e){var n=t.props.showBranchName,r=e.definition,o=r.name,s=r.status,i=r.createdAt,a=r.startsAt,c=r.endsAt,u=e.typeName,l=u===V.a.SESSION_GROUP&&n?e.definition.branchName:null;return Object(Ke.d)($e.b,{justifyContent:"start",rootClassName:"menu-option align-items-vertical-center"},Object(Ke.d)("div",null,Object(Ke.d)(components_StatusIndicator,{status:s,isDropdown:!0})),Object(Ke.d)("div",{className:"vertical-box flex-1",css:$n.contextInfo},Object(Ke.d)(Ye.a,{component:"p",variant:"bodySecondary",css:$n.name},l?Object(Ke.d)("strong",null,o):o),l&&Object(Ke.d)(Ye.a,{component:"p",variant:"bodySecondary",css:$n.name},ue()("Session: #{versionName}",{versionName:l}))),Object(Ke.d)(Ye.a,{component:"p",variant:"bodySecondary"},contextDateUtils_getContextDateString({createdAt:i,startsAt:a,endsAt:c,status:s,typeName:u},Ge.d)))},t}return r()(ContextSwitcher,e),ContextSwitcher.prototype.render=function(){var e=this,t=this.props,n=t.courseContexts,r=t.selectedContextId,o=t.isEnabled,s=t.label,i=void 0===s?ue()("Instance"):s;if(!n||0===n.length||!r)return null;var a=n.filter((function(e){return e.definition.status!==L.CREATING}));return Object(Ke.d)("div",{className:"rc-ContextSwitcher",css:$n.select},Object(Ke.d)(Xe.a,{label:i,value:r,onChange:function(t){return e.onContextSelect(t.target.value)},disabled:!o,fullWidth:!0},a.map((function(t){var n=contextUtils_getIdForContextSwitcher(t);return Object(Ke.d)(Ze.a,{value:n,key:n},e.renderMenuOption(t))}))))},ContextSwitcher}(c.Component);er.defaultProps={onSelect:function(){},isEnabled:!0,showBranchName:!0};var tr,nr=er,rr=Object(Ke.c)(tr||(tr=a()(["\n  width: 720px !important;\n  text-align: left !important;\n  padding: 28px;\n  border-radius: 3px;\n  overflow: visible !important;\n\n  .modal-header {\n    margin-bottom: 20px;\n  }\n\n  .modal-description {\n    font-size: 0.95em;\n  }\n"]))),or=function(e){function ChangeContextBasedCourseViewSettingsModal(t){var n,r;(r=e.call(this,t)||this).handleContextSelect=function(e,t){if(e&&t){var n=r.context.executeAction;r.setState({selectedContext:t,selectedContextIdForContextSwitcher:e});var o=contextUtils_getContextIdFromContext(t);n(selectContext,{contextId:o});var s=t.definition.authoringCourseBranchId,i=null,a=null;if(t.typeName===V.a.SESSION_GROUP){var c=t.definition;i=c.sessionId,a=c.groupId}s!==r.props.selectedBranchId&&n(BranchSessionGroupActions_selectBranch,s),n(selectSession,i),n(selectGroup,a)}},r.handleSelectGroup=function(e){(0,r.context.executeAction)(selectGroup,e)},r.onPreview=function(){var e=r.props,t=e.courseId,n=e.courseSlug,o=e.branches,s=e.selectedGroupId,i=e.userCanSwitchGroups,a=r.state.selectedContext,c=r.context.executeAction;if(a){var u,l=o.find((function(e){return e.id===a.definition.authoringCourseBranchId}));if(l)r.setState((function(){return{loadingPreview:!0}})),i&&s&&(u=s),c(contextUtils_viewContextAsLearner,{courseContext:a,branch:l,courseSlug:n,courseId:t,skipReloadWindow:!1,useSameWindow:!0,specifiedGroupId:u})}};var o=t.selectedContextId,s=t.contextMap,i=t.contexts,a=null!==(n=s[o])&&void 0!==n?n:i[0],c=contextUtils_getIdForContextSwitcher(a);return r.state={loadingPreview:!1,selectedContext:a,selectedContextIdForContextSwitcher:c},r}return r()(ChangeContextBasedCourseViewSettingsModal,e),ChangeContextBasedCourseViewSettingsModal.prototype.render=function(){var e=this.props,t=e.groups,n=e.selectedGroupId,r=e.userCanSwitchGroups,o=e.contexts,s=e.onCloseModal,i=this.state,a=i.loadingPreview,c=i.selectedContextIdForContextSwitcher,u=r&&t.length>0;return Object(Ke.d)(Lt.a,{className:"rc-ChangeContextBasedCourseViewSettingsModal",onRequestClose:s,css:rr},Object(Ke.d)(Je.a,{className:"modal-header",variant:"h1",component:"h2"},Un()("Change View Settings")),Object(Ke.d)("span",{className:"modal-description"},Un()("Choose a session to use when viewing as a learner")),Object(Ke.d)(nr,{label:Un()("Session"),courseContexts:o,selectedContextId:c,onSelect:this.handleContextSelect}),u&&Object(Ke.d)(Nt,{selectedGroupId:n,groups:t,onGroupSelect:this.handleSelectGroup}),Object(Ke.d)(bt,{onCancelButtonClick:s,onPrimaryButtonClick:this.onPreview,isCancelButtonDisabled:a,isPrimaryButtonDisabled:a,primaryButtonContents:a?Un()("Loading..."):Un()("Continue")}))},ChangeContextBasedCourseViewSettingsModal}(c.Component);or.contextTypes={executeAction:g.a.func.isRequired};var sr,ir,ar,cr,ur,lr,dr,pr,hr=Object(m.a)(["ChangeViewSettingsModalStore"],(function(e){var t=e.ChangeViewSettingsModalStore;return{selectedBranchId:t.getSelectedBranchId(),selectedGroupId:t.getSelectedGroupId(),selectedContextId:t.getSelectedContextId(),groups:t.getGroups(),branches:t.getBranches()}}))(or),mr=(t("Y4ZR"),function(){return sr||(sr=c.createElement("div",{className:"rc-EnrollmentDivider"}))}),fr={root:Object(Ke.c)({".enrolled-context-type":{fontSize:"0.75rem"},".enrolled-context-name":{textOverflow:"ellipsis",overflowX:"hidden",lineHeight:"1rem",maxWidth:"40vw"},".rc-EnrollmentDivider":{transform:"rotate(90deg)"}})},components_EnrolledContext=function(e){var t=e.context,n=e.courseCatalogType,r=t.typeName,o=t.definition,s=o.name,i=o.createdAt,a=o.startsAt,c=o.endsAt,u=o.status;return Object(Ke.d)(Xn,{className:"rc-EnrolledContext",css:fr.root},Object(Ke.d)("span",{className:"enrolled-context-name"},s),Object(Ke.d)(pills_ContextIndicator,{"data-test":"enrolled-context-type",type:contextUtils_getContextType(r,n),style:{height:20}}),Object(Ke.d)(components_StatusIndicator,{status:u}),ir||(ir=Object(Ke.d)(mr,null)),Object(Ke.d)("span",{className:"enrolled-context-datestring"},contextDateUtils_getContextDateString({status:u,createdAt:i,startsAt:a,endsAt:c,typeName:r})))},gr=(t("QAAw"),function(e){var t=e.enrolledGroups,n=t[0],r=n&&n.definition.name;return t.length>1?c.createElement("span",null,r," +",t.length-1):c.createElement("span",null,r)}),components_EnrolledGroups=function(e){var t=e.enrolledGroups;return t.length>0?c.createElement(Xn,{className:"rc-EnrolledGroups"},c.createElement(gr,{enrolledGroups:t})):null},Er=(t("vhg0"),function(e){var t=e.children;return(c.createElement(Xn,{className:"rc-EnrolledSession"},t))}),components_EnrolledSession=function(e){var t=e.session;if(!e.courseMembership)return ar||(ar=c.createElement(Er,null,"Not enrolled"));if(!t)return cr||(cr=c.createElement(Er,null,"No session selected"));var n=t.startedAt,r=t.endedAt,o=t.enrollmentEndedAt;return(c.createElement(Xn,{className:"rc-EnrolledSession"},c.createElement("span",null,t.displayName),t.isPrivate&&c.createElement(pills_ContextIndicator,{type:"private",style:{height:20}}),c.createElement(components_SessionStatusPill,{startedAt:Y()(n),enrollmentEndedAt:Y()(o),endedAt:Y()(r)})))},Sr=(t("MNov"),function(e){var t=e.course,n=e.version,r=n.properties.name||t.name;return c.createElement(Xn,{className:"rc-EnrolledVersion"},c.createElement("span",{className:"enrolled-version-name"},r),n.properties.isPrivate&&c.createElement(pills_ContextIndicator,{type:"private",style:{height:20}}),c.createElement(components_StatusIndicator,{status:n.properties.branchStatus,style:{height:20}}))}),vr=(t("Xt5k"),function(e){var t=e.course,n=e.version,r=e.session,o=e.context,s=e.courseCatalogType,i=e.enrolledGroups,a=e.courseMembership,u=e.showGroupInformation,l=e.onEnrollmentBannerClick,d=e.shouldUseContextBasedVaL;return(c.createElement("div",{className:"rc-EnrollmentState"},c.createElement(Fn,{onClick:l},d&&o?c.createElement(c.Fragment,null,c.createElement(components_EnrolledContext,{context:o,courseCatalogType:s}),u&&i.length>0&&c.createElement(c.Fragment,null,ur||(ur=c.createElement(mr,null)),c.createElement(components_EnrolledGroups,{enrolledGroups:i}))):c.createElement(c.Fragment,null,c.createElement(Sr,{course:t,version:n}),lr||(lr=c.createElement(mr,null)),c.createElement(components_EnrolledSession,{session:r,courseMembership:a}),i.length>0&&(dr||(dr=c.createElement(mr,null))),c.createElement(components_EnrolledGroups,{enrolledGroups:i})))))}),Cr=(t("7ESi"),function(e){var t=e.children;return(c.createElement("div",{className:"rc-EnrollmentStateBanner"},t))}),components_EnrollmentStateBanner=function(e){var t,n,r=e.course,o=e.courseCatalogType,s=e.session,i=e.version,a=e.contexts,u=e.contextMap,l=e.matchedContext,d=e.enrolledGroups,p=e.currentRouteName,h=e.itemId,m=e.courseMembership,f=e.showChangeCourseViewSettingsModal,g=e.toggleChangeCourseViewSettingsModal,E=e.userCanSwitchGroups,S=e.userCanViewTeach,v=e.showGroupInformation,C=e.shouldUseContextBasedVaL,b=e.executeAction,A=null!==(t=null==s?void 0:s.id)&&void 0!==t?t:null,O=null==d?void 0:null===(n=d[0])||void 0===n?void 0:n.id;return c.useEffect((function(){!A&&l&&b(contextUtils_viewContextAsLearner,{courseContext:l,branch:i,courseSlug:r.slug,courseId:r.id,skipReloadWindow:!0,useSameWindow:!0})}),[r.slug,r.id,A,l,b]),c.useEffect((function(){b(preselectedSettings,{branchId:i.id,sessionId:A,groupId:O})}),[O,i.id,A,b]),c.createElement(Cr,null,f&&(C?c.createElement(hr,{courseSlug:r.slug,courseId:r.id,onCloseModal:g,userCanSwitchGroups:E,contexts:a,contextMap:u}):c.createElement($t,{courseSlug:r.slug,courseId:r.id,onCloseModal:g,userCanSwitchGroups:E})),c.createElement("aside",null,c.createElement("h2",{className:"heading"},Un()("Viewing"),":")),c.createElement(vr,{course:r,version:i,session:s,context:l,courseCatalogType:o,enrolledGroups:d,onEnrollmentBannerClick:g,courseMembership:m,showGroupInformation:v,shouldUseContextBasedVaL:C}),pr||(pr=c.createElement("div",{className:"flex-1"})),c.createElement(Zn,{course:r,matchedContext:l,currentRouteName:p,itemId:h,versionId:i.id,groupId:O,onSettingsButtonClick:g,userCanViewTeach:S,shouldUseContextBasedVaL:C}))},br=t("kBmU"),Ar={COURSE:"authoringCourse",COURSE_ANALYTICS:"authoringCourseAnalytics",COURSE_ANNOUNCEMENTS:"authoringCourseAnnouncements",COURSE_ASSIGNMENT_SCHEDULE:"authoringCourseAssignmentSchedule",COURSE_AUTHOR_DISCUSSIONS:"authoringCourseForumActivity",COURSE_AUTHOR_STAFF:"authoringCourseStaffs",COURSE_CONTENT:"authoringCourseContent",COURSE_EVENTS:"authoringCourseEvents",COURSE_FEEDBACK:"authoringCourseFeedback",COURSE_GRADES:"authoringCourseGrades",COURSE_GRADE_CHANGE_LOG:"authoringCourseGradeChangeLog",COURSE_GRADEBOOK:"authoringCourseGradebookManager",COURSE_GRADING_POLICY:"authoringCourseGradingPolicy",COURSE_GRADING_FORMULA:"authoringCourseGradingFormula",COURSE_GROUPS_SESSIONS:"authoringCourseSessions",COURSE_INVITATIONS:"authoringCourseInvitations",COURSE_LEARNER_TEAMS:"authoringCourseLearnerTeams",COURSE_LEARN_VIEW_AS_LEARNER:"learnCourseViewAsLearner",COURSE_LEARN_VIEW_AS_LEARNER_GROUP_SWITCHER:"learnCourseViewAsLearnerSwitchGroup",COURSE_LEARN_ACT_AS_LEARNER:"learnCourseActAsLearnerMode",COURSE_MESSAGES:"authoringCourseMessages",COURSE_ROSTER:"authoringCourseRosters",COURSE_SCHEDULE:"authoringCourseSchedule",COURSE_SESSION_SCHEDULE:"authoringCourseSessionSchedule",COURSE_SUPPORT_DASHBOARD:"authoringCourseSupportDashboard",COURSE_SETTINGS:"authoringCourseSettings",COURSE_CERTIFICATE_SETTINGS:"authoringCourseCertificateSettings",COURSE_TEACH_VIEW_AS_LEARNER:"authoringCourseViewAsLearner",COURSE_TEAMS:"authoringCourseLearnerTeams",COURSE_TEAM_WORKSPACE:"authoringCourseTeamwork",COURSE_VERSIONS:"authoringCourseVersions",COURSE_LEARNER_PII:"learnerPII",GROUP_ADMIN:"groupAdmin",GROUP_SETTINGS:"authoringGroupSettings",PROGRAM_ANALYTICS:"programAnalytics",PROGRAM_ANALYTICS_RECRUITMENT:"programAnalyticsRecruitmentDashboard",PROGRAM_ANALYTICS_STUDENT_SUCCESS:"programAnalyticsStudentSuccessDashboard",PROGRAM_SETTINGS:"programSettings",PROGRAM_STAFF_MANAGEMENT:"programStaffManagement",PROGRAM_LEARNERS:"programLearners",PROGRAM_LEARNERS_ONBOARDING_ROSTER:"programLearnersOnboardingRoster",ADMIN_GROUP:"adminGroup",ADMIN_COURSE:"adminCourse",ADMIN_S12N:"adminS12n",ADMIN_INSTITUTION:"adminInstitution",ADMIN_DEGREE:"adminDegree"},Or={READ:"read",UPDATE:"update",CREATE:"create",DELETE:"delete",EXPORT:"export",OVERRIDE_GRADE:"overrideGrade",RELEASE_GRADE:"releaseGrade",PLAGIARISM:"plagiarism",MANAGE:"manage",GRADE:"grade",PUBLISH:"publish",CUSTOM:"customVerb~",RESTRICT:"restrict"};function getNavigationFeatures(e,t){var n=[{instanceId:e,features:[{name:Ar.COURSE,verbs:[Or.READ]},{name:Ar.COURSE_CONTENT,verbs:[Or.UPDATE,Or.READ,Or.PUBLISH]},{name:Ar.COURSE_GRADES,verbs:[Or.READ]},{name:Ar.COURSE_GRADEBOOK,verbs:[Or.READ]},{name:Ar.COURSE_GRADING_FORMULA,verbs:[Or.READ,Or.UPDATE]},{name:Ar.COURSE_MESSAGES,verbs:[Or.READ]},{name:Ar.COURSE_INVITATIONS,verbs:[Or.READ,Or.CREATE]},{name:Ar.COURSE_ROSTER,verbs:[Or.READ,Or.UPDATE]},{name:Ar.COURSE_TEAMS,verbs:[Or.READ]},{name:Ar.COURSE_SUPPORT_DASHBOARD,verbs:[Or.READ]},{name:Ar.COURSE_ANALYTICS,verbs:[Or.READ,Or.EXPORT]},{name:Ar.COURSE_SETTINGS,verbs:[Or.READ,Or.UPDATE]},{name:Ar.COURSE_CERTIFICATE_SETTINGS,verbs:[Or.READ,Or.UPDATE]},{name:Ar.COURSE_GROUPS_SESSIONS,verbs:[Or.READ]},{name:Ar.COURSE_EVENTS,verbs:[Or.READ]},{name:Ar.COURSE_SCHEDULE,verbs:[Or.READ]},{name:Ar.COURSE_SESSION_SCHEDULE,verbs:[Or.READ,Or.UPDATE]},{name:Ar.COURSE_LEARN_VIEW_AS_LEARNER,verbs:[Or.READ]},{name:Ar.COURSE_LEARN_VIEW_AS_LEARNER_GROUP_SWITCHER,verbs:[Or.READ]},{name:Ar.COURSE_TEACH_VIEW_AS_LEARNER,verbs:[Or.READ]},{name:Ar.COURSE_LEARN_ACT_AS_LEARNER,verbs:[Or.UPDATE]},{name:Ar.COURSE_FEEDBACK,verbs:[Or.READ]},{name:Ar.COURSE_TEAM_WORKSPACE,verbs:[Or.READ]},{name:Ar.COURSE_AUTHOR_DISCUSSIONS,verbs:[Or.READ]},{name:Ar.COURSE_AUTHOR_STAFF,verbs:[Or.READ,Or.UPDATE]},{name:Ar.COURSE_VERSIONS,verbs:[Or.CREATE]},{name:Ar.COURSE_ANNOUNCEMENTS,verbs:[Or.READ,Or.UPDATE]},{name:Ar.COURSE_GRADING_POLICY,verbs:[Or.READ,Or.UPDATE]},{name:Ar.COURSE_LEARNER_PII,verbs:[Or.RESTRICT]}]}],r=t?[{instanceId:t,features:[{name:Ar.GROUP_SETTINGS,verbs:[Or.UPDATE]}]}]:[];return[].concat(n,r)}function hasPermission(e,t,n){var r=e[t];return!(!r||!r[n])}var Ir=t("aZBY"),Rr=t("R63J"),yr=function(e){function PrivilegedAuthsV1NaptimeResource(t){return e.call(this,t)||this}return r()(PrivilegedAuthsV1NaptimeResource,e),PrivilegedAuthsV1NaptimeResource}(ge.a);yr.RESOURCE_NAME="privilegedAuths.v1";var Nr=function(e){function PrivilegedAuths(){return e.apply(this,arguments)||this}return r()(PrivilegedAuths,e),PrivilegedAuths.me=function(e){return this.finder("me",e,(function(e){return e[0]}))},PrivilegedAuths.getIsOutsourcingAgent=function(e){return!!Object(Rr.a)(e)&&this.finder("me",{fields:["outsourcingPermissions"]},(function(e){return!!e[0]&&!!e[0].outsourcingPermissions}))},PrivilegedAuths}(yr);Nr.RESOURCE_NAME="privilegedAuths.v1";var Pr=Nr,wr=t("QILm"),_r=t.n(wr),Ur=t("xkGU"),xr=t.n(Ur),Tr=function(e){function AuthoringUserCoursePermissions(){return e.apply(this,arguments)||this}return r()(AuthoringUserCoursePermissions,e),AuthoringUserCoursePermissions.my=function(e){return this.finder("my",{params:{courseId:e}})},AuthoringUserCoursePermissions}(ge.a);Tr.RESOURCE_NAME="authoringUserCoursePermissions.v1";var Dr=t("erQL"),jr={GRANTED:"GRANTED",FORBIDDEN:"FORBIDDEN"};function generateFeatureKey(e,t,n){return function(e){return![Or.CREATE,Or.READ,Or.UPDATE,Or.DELETE,Or.PUBLISH,Or.RESTRICT].includes(e)}(t)?"(instanceId~".concat(n,",name~").concat(e,",verb~customVerb!~").concat(t,")"):"(instanceId~".concat(n,",name~").concat(e,",verb~").concat(t,")")}function hasFeaturePermission(e,t,n,r){var o=generateFeatureKey(e,t,n);return!(!r[o]||r[o]!==jr.GRANTED)}new(function(){function MemoizedPermissionsNetworkRequest(){this.store={}}var e=MemoizedPermissionsNetworkRequest.prototype;return e._storeKey=function(e,t){return"".concat(e,"~").concat(t)},e._fetchPermissionsFromNetwork=function(){var e=rn()(tn()().mark((function _callee(e,t){var n,r;return tn()().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=Object(z.a)("/api/authoringUserCoursePermissions.v1/",{type:"rest"}),o.next=3,n.get("".concat(e,"~").concat(t));case 3:return r=o.sent,o.abrupt("return",r);case 5:case"end":return o.stop()}}),_callee)})));return function(t,n){return e.apply(this,arguments)}}(),e.getPermissions=function(){var e=rn()(tn()().mark((function _callee2(e,t){var n;return tn()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!Dr.a){r.next=2;break}return r.abrupt("return",this._fetchPermissionsFromNetwork(e,t));case 2:return n=this._storeKey(e,t),void 0===this.store[n]&&(this.store[n]=this._fetchPermissionsFromNetwork(e,t)),r.abrupt("return",this.store[n]);case 5:case"end":return r.stop()}}),_callee2,this)})));return function(t,n){return e.apply(this,arguments)}}(),MemoizedPermissionsNetworkRequest}());var Mr,Lr,Gr,Br=["features","authoringUserPermissions","permissionsReturnKey","courseId","groupId"],kr=["courseId","featurePermissions","permissionsReturnKey"],withFeaturePermissions_getFeaturePermissions=function(e){return function(t){return Object(h.b)(Object(h.g)((function(t){var n=e(t),r=Object.keys(n)[0];return s()(s()(s()({},t),n[r]),{},{permissionsReturnKey:r})})),Object(h.a)((function(e){var t=e.actAsLearner;return!(void 0!==t&&t)}),he.b.createContainer((function(e){var t=e.courseId,n=e.gracefulDegradation;return{authoringUserPermissions:Tr.get(Object(j.b)([C.a.get().id,t]),{required:!n})}})),Object(h.b)(he.b.createContainer((function(e){var t=e.courseId,n=e.gracefulDegradation;return{myAuthoringUserCoursePermissions:Tr.my(t,{required:!n})}})),Object(h.n)((function(e){var t;return{authoringUserPermissions:(null===(t=e.myAuthoringUserCoursePermissions)||void 0===t?void 0:t[0])||null}})))),Object(h.g)((function(e){var t=e.features,n=e.authoringUserPermissions,r=e.permissionsReturnKey,o=e.courseId,i=e.groupId,a=_r()(e,Br),c=s()(s()({},a),{},{courseId:o,groupId:i,permissionsReturnKey:r});if(!n)return s()({},c);var u={};return xr()(t,(function(e){u[e.instanceId]={},xr()(e.features,(function(t){u[e.instanceId][t.name]={},xr()(t.verbs,(function(r){u[e.instanceId][t.name][r]=hasFeaturePermission(t.name,r,e.instanceId,n.permissions)}))}))})),s()({featurePermissions:u},c)})))(t)}},Vr=Object(h.n)((function(){return{isEnrollmentStateBannerEnabled:!1,userCanSwitchGroups:!1,userCanViewTeach:!1}})),Wr=Object(h.b)(he.b.createContainer((function(e){var t=e.courseSlug;return{course:Ir.a.bySlug(t,{fields:["slug"]}),isOutsourcingAgent:Pr.getIsOutsourcingAgent(C.a)}})),Object(h.a)((function(e){return!e.course}),Vr,Object(h.b)((Mr=function(e){var t=e.course;return{featurePermissions:{courseId:t.id,features:getNavigationFeatures(t.id)}}},function(e){return Object(h.b)(Object(h.n)((function(){return{gracefulDegradation:!0}})),withFeaturePermissions_getFeaturePermissions(Mr),Object(h.g)((function(e){var t=e.courseId,n=e.featurePermissions,r=e.permissionsReturnKey,o=_r()(e,kr);return s()(dt()({courseId:t},r,n&&n[t]),o)})))(e)}),Object(h.a)((function(e){return!e.featurePermissions}),Vr,Object(h.n)((function(e){var t=e.isOutsourcingAgent,n=e.featurePermissions,r=n.authoringCourse.read,o=t||hasPermission(n,Ar.COURSE_LEARN_VIEW_AS_LEARNER,Or.READ),s=!t&&function(e){return hasPermission(e,Ar.COURSE_LEARN_VIEW_AS_LEARNER_GROUP_SWITCHER,Or.READ)}(n);return{isEnrollmentStateBannerEnabled:C.a.isAuthenticatedUser()&&o,userCanSwitchGroups:s,userCanViewTeach:r}})))))),containers_withEnrollmentStateBannerEnabledState=function(){return Object(h.b)(Object(S.a)((function(e){return{courseSlug:e.params.courseSlug}})),Object(h.a)((function(e){return!!e.courseSlug}),Wr,Vr))},containers_withShowEnrollmentStateBanner=function(){return Object(h.b)(Object(S.a)((function(e){return{pathname:e.location.pathname||""}})),Object(h.n)((function(e){var t=e.pathname;return{onEnrollmentBannerEnabledPage:!(!t||0!==t.indexOf("/learn/")&&0!==t.indexOf("/sandbox/")||Object(br.b)())}})),Object(h.a)((function(e){return e.onEnrollmentBannerEnabledPage}),containers_withEnrollmentStateBannerEnabledState()),Object(h.n)((function(e){var t=e.onEnrollmentBannerEnabledPage,n=e.isEnrollmentStateBannerEnabled;return{showEnrollmentStateBanner:t&&n}})))},Fr=t("agHs"),courseContextUtils_showGroupInformationForEnrolledContext=function(e,t){var n;if(e.typeName===V.a.SESSION_GROUP){var r=t.find((function(t){return t.id===e.definition.authoringCourseBranchId}));if(!r)return!1;var o=r.associatedSessionsList.find((function(t){return t.id===e.definition.sessionId}));if(!o)return!1;n=o.groups.filter((function(e){return!1===e.isArchived})).length>1}else n=!1;return n},Hr=Object(l.a)(Lr||(Lr=a()(["\n  query PreviewAuthoringCourseContextsQueryV1Query($courseId: String!) {\n    AuthoringCourseContextsV1 @naptime {\n      get(id: $courseId) {\n        elements {\n          id\n          contexts\n          contextIds\n        }\n      }\n    }\n  }\n"]))),qr=Object(l.a)(Gr||(Gr=a()(["\n  query AuthoringCoursesV2Query($slug: String!) {\n    AuthoringCoursesV2 @naptime {\n      bySlug(slug: $slug) {\n        elements {\n          id\n          course\n        }\n      }\n    }\n  }\n"]))),zr=Object(h.b)(v.a.createTrackedContainer((function(){return{namespace:{page:"course_staff_enrollment_state_banner"}}})),Object(S.a)((function(e){var t=e.routes,n=e.params,r=e.location,o=t&&t[p()(t,(function(e){return!(null==e||!e.name)}))];return{pathname:r.pathname||"",currentRouteName:o&&o.name,courseSlug:n.courseSlug,itemId:n.item_id||n.reference_id}})),Object(A.a)(qr,{options:function(e){return{variables:{slug:e.courseSlug}}},props:function(e){var t,n,r,o,i=e.data,a=null!==(t=null==i?void 0:null===(n=i.AuthoringCoursesV2)||void 0===n?void 0:null===(r=n.bySlug)||void 0===r?void 0:null===(o=r.elements)||void 0===o?void 0:o[0])&&void 0!==t?t:{},c=a.course,u=void 0===c?{}:c,l=a.id,d=void 0===l?"":l;return{course:new w(s()(s()({},u),{},{id:d}))}}}),Object(h.n)((function(){return{userId:C.a.get().id}})),he.b.createContainer((function(e){var t=e.course,n=e.userId;return{courseMemberships:ke.a.byUserAndSlug(n,t.slug,{required:!1})}})),he.b.createContainer((function(e){var t=e.course,n=e.userId;return{branches:Se.byCourse(t.id),sessionMemberships:Te.byUserAndCourse(n,t.id,{includes:["sessions"]}),groupMemberships:Ce.finder("learnerMembershipsByUserAndCourse",{params:{userId:n,courseId:t.id},fields:["groupId"],includes:["groups"]})}})),waitForProps(["branches"]),he.b.createContainer((function(e){var t=e.sessionMemberships,n=e.groupMemberships;return{enrolledSessions:Be.multiGet(t.map((function(e){return e.sessionId})),{fields:["branchId","isPrivate"]}),enrolledGroups:Ae.multiGet(n.map((function(e){return e.groupId})),{fields:["definition"]})}})),Object(A.a)(Hr,{options:function(e){return{variables:{courseId:e.course.id}}},props:function(e){var t,n,r,o,i=e.data,a=null!==(t=null==i?void 0:null===(n=i.AuthoringCourseContextsV1)||void 0===n?void 0:null===(r=n.get)||void 0===r?void 0:null===(o=r.elements)||void 0===o?void 0:o[0])&&void 0!==t?t:{},c=a.contexts,u=void 0===c?{}:c,l=a.contextIds,d=function(e,t){if(0===t.length||0===Object.keys(e).length)return{courseContexts:[],contextMapWithEscapedContextId:{}};var n=Object.values(e).filter((function(e){return null==e?void 0:e.typeName})),r=t.reduce((function(e,t){var r=Object(j.a)(t)[1],o=getContextByEscapedContextId(r,n);return o&&o.typeName!==V.a.SESSION_GROUP_CREATION_JOB?s()(s()({},e),{},dt()({},r,o)):e}),{});return{courseContexts:Object.values(r),contextMapWithEscapedContextId:r}}(u,void 0===l?[]:l),p=d.courseContexts,h=d.contextMapWithEscapedContextId;return{contexts:p,contextMap:h,contextsDataLoaded:p.length>0&&Object.keys(h).length>0}}}),lib_connectToFluxibleContext((function(e,t){var n=t.course,r=t.branches,o=t.userCanSwitchGroups,s=t.contextsDataLoaded;e.executeAction(CourseActions_initializeCourseApp,{courseId:n.id,branchesWithSessions:r,userCanSwitchGroups:o,excludeEmptyGroup:s})})),lib_waitForStores({requiredStores:["ChangeViewSettingsModalStore"]},(function(e){return{ChangeViewSettingsModalStoreHasLoaded:e.ChangeViewSettingsModalStore.hasLoaded()}})),Object(b.a)((function(e){return e.ChangeViewSettingsModalStoreHasLoaded})),Object(h.o)("showChangeCourseViewSettingsModal","setShowChangeCourseViewSettingsModal",!1),Object(h.m)({toggleChangeCourseViewSettingsModal:function(e){var t=e.setShowChangeCourseViewSettingsModal,n=e.showChangeCourseViewSettingsModal;return function(){t(!n)}}}),Object(h.n)((function(e){var t=e.course,n=e.enrolledGroups,r=e.enrolledSessions,o=e.branches,s=e.courseMemberships,i=e.contexts,a=e.contextMap,c=e.contextsDataLoaded,u=r&&r[0],l=function(e,t){if(!e)return t;var n=e.id;return t.filter((function(e){var t=e.definition.scopeId,r=t.name,o=t.id,s=Object(j.a)(o)[1];return"session"===r&&s===n}))}(u,n),d=u&&u.branchId,p=d&&o.find((function(e){return e.properties.courseBranchId===d})),h=o.find((function(e){return e.id===t.id})),m=p||h,f=c?function(e,t,n,r,o){var s,i="",a=!1,c=null==o?void 0:o.id;r.length>0?1===r.length&&(i=r[0].id,a=!0):i=n.id;var u=t.filter((function(e){return e.typeName===V.a.SESSION_GROUP})).find((function(e){return e.definition.sessionId===c})),l=e[i];if(a)s=null!=l?l:u;else if(!(s=null!=u?u:l)){var d,p=t.filter((function(e){return e.typeName===V.a.PUBLIC_BRANCH&&e.definition.authoringCourseBranchId===n.id})),h=t.filter((function(e){return contextUtils_isPrivateContext(e.typeName)&&e.definition.authoringCourseBranchId===n.id}));h.length>0?d=h[0]:p.length>0&&(d=p[0]),s=d}return s||(Fr.captureException(new Error("Context-based VaL cannot find the corresponding course context"),{tags:{product:"context-based-val"},extra:{message:"contexts num: ".concat(t.length,", contextIds: ").concat(JSON.stringify(Object.keys(e)),", branchId: ").concat(n.id,", group num: ").concat(r.length,", sessionId: ").concat(c)}}),t[0])}(a,i,m,n,u):void 0,g=pe(t),E=function(e){return!Pr.getIsOutsourcingAgent(C.a)&&(!!e||(Fr.captureException(new Error("VaL fallback is used"),{tags:{product:"val-fallback"},extra:{message:"the old VaL UX is used because the matched context is invalid"}}),!1))}(f);return{session:u,sessionBranch:p,courseBranch:h,version:m,enrolledGroups:l,courseMembership:s[0],matchedContext:f,courseCatalogType:g,shouldUseContextBasedVaL:E}})),components_withFluxibleContextAsProps(),Object(h.a)((function(e){return!!e.shouldUseContextBasedVaL}),Object(h.b)(lib_connectToFluxibleContext((function(e,t){var n=t.matchedContext;e.executeAction(selectContext,{contextId:contextUtils_getContextIdFromContext(n)})})),Object(m.a)(["ChangeViewSettingsModalStore"],(function(e,t){var n=e.ChangeViewSettingsModalStore,r=t.matchedContext;return{showGroupInformation:courseContextUtils_showGroupInformationForEnrolledContext(r,n.getBranches())}})))),Object(b.a)((function(e){return!!e.version})))(components_EnrollmentStateBanner),Qr=function(e){function CheckEnabled(){return e.apply(this,arguments)||this}r()(CheckEnabled,e);var t=CheckEnabled.prototype;return t.componentDidMount=function(){var e=this.props,t=e.addParentHeightClass;e.showEnrollmentStateBanner&&(null==t||t("with-enrollment-state-banner"))},t.render=function(){return this.props.showEnrollmentStateBanner&&c.createElement(zr,this.props)||null},CheckEnabled}(c.Component);e.default=containers_withShowEnrollmentStateBanner()(Qr)},L1FO:function(module,exports,e){},M8bm:function(module,exports,e){},MNov:function(module,exports,e){e("9Jxx")},McJS:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},OoD8:function(module,exports,e){e("TP3K")},PWsg:function(module,exports,e){var t=e("/LGP"),n=t.default?t.default:{},r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},QAAw:function(module,exports,e){e("1BJ4")},QOYm:function(module,exports,e){e("S3Ec")},R63J:function(module,e,t){"use strict";t.d(e,"a",(function(){return isOutsourcing}));var isOutsourcing=function(e){return!!e.get().email_address.match(/[a-zA-Z0-9._%+-@]+@(support.coursera.org|24-7intouch.com|guatemala.24-7intouch.com)/)}},S3Ec:function(module,exports,e){},TP3K:function(module,exports,e){},WWll:function(module,exports,e){},Xt5k:function(module,exports,e){e("WWll")},Y4ZR:function(module,exports,e){e("4Q+c")},ZLWr:function(module,exports,e){var t=e("CtFz"),n=t.default?t.default:{},r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},eiIV:function(module,exports,e){},erCQ:function(module,exports,e){var t=e("McJS"),n=t.default?t.default:{},r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},k142:function(module,exports,e){},oRHR:function(module,exports){exports.default={"ar":true,"az":true,"de":true,"el":true,"es":true,"fa-af":true,"fr":true,"hi":true,"hu":true,"id":true,"it":true,"ja":true,"kk":true,"ko":true,"nl":true,"pl":true,"ps":true,"pt":true,"ru":true,"sv":true,"th":true,"tr":true,"uk":true,"vi":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},qW3A:function(module,exports,e){e("L1FO")},quDH:function(module,exports,e){},vhg0:function(module,exports,e){e("eiIV")},wK9Z:function(module,exports,e){},x6rN:function(module,exports,e){var t=e("14+a"),n=t.default?t.default:{},r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},y18Z:function(module,exports,e){e("Edz0")}}]);
//# sourceMappingURL=en.44.32c96a5738ad572f0c82.js.map